---
title: "Introdução à linguagem R: <br><br>"
subtitle: "Funcionamento da linguagem R <br><br><br>"
author: "Maurício H. Vancine"
date: "21/07/2019"
output:
  xaringan::moon_reader:
    css: metropolis
    lib_dir: libs
    nature:
      #highlightStyle: #zenburn
      highlightLines: true
      countIncrementalSlides: true
    includes:
      in_header: header.html
---

```{r, setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```

class: clear, center, middle
background-image: url(https://www.rstudio.com/wp-content/uploads/2018/10/RStudio-Logo-flat.svg)
background-size: 600px
background-position: 50% 50%

---

# Funcionamento da linguagem R

## Tópicos
<br>
1. Linguagem R
<br>
2. Software RStudio
<br>
3. Scripts
<br>
4. Comentários (*#*)
<br>
5. Atribuição (*<-*)
<br>
6. Funções
<br>
7. Pacotes
<br>
8. Workspace
<br>
9. Diretórios

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/falar_r.png)
background-size: 600px
background-position: 50% 70%

# 1. Linguagem R

## Todos conhecem o R e o RStudio?

---

class: inverse, middle, center

# Não confundam a **Linguagem R** com o software **RStudio**!

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/r_rstudio.png)
background-size: 800px
background-position: 50% 50%

# 1. Linguagem R

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/r_rstudio2.png)
background-size: 800px
background-position: 50% 50%

# 1. Linguagem R

---

# 1. Linguagem R

## O que é uma **linguagem de programação**?

--

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/programacao.png)
background-size: 800px
background-position: 50% 75%

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/r_funcionamento.png)
background-size: 700px
background-position: 50% 50%

# 1. Linguagem R
## Funcionamento do R

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio.png)
background-size: 800px
background-position: 50% 50%

# 2. RStudio

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio.png)
background-size: 700px
background-position: 50% 70%

# 2. RStudio

## Customizá-lo

`Ferramentas (Tools) -> Opções Globais (Global Options) -> Aparência (Appearance) -> Tema do editor (Editor Theme)`

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/programar.png)
background-size: 800px
background-position: 50% 50%

# 2. RStudio

## Programar

---

background-image: url(https://media.giphy.com/media/9o9dh1JRGThC1qxGTJ/giphy.gif)
background-size: 500px
background-position: 50% 70%

# 2. RStudio

## Programar

### Ter calma e paciência...

---

background-image: url(https://media.giphy.com/media/1r8SrQlamkYssy2WYX/giphy.gif)
background-size: 400px
background-position: 50% 75%

# 2. RStudio

## Programar

### É muito complicado no começo...

---

background-image: url(https://media.giphy.com/media/12bVDtXPOzYwda/giphy.gif)
background-size: 500px
background-position: 50% 70%


# 2. RStudio

## Programar

### Tentem não ficar furioso(a)s...

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/script1.png)
background-size: 800px
background-position: 50% 50%

# 2. RStudio

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/script2.png)
background-size: 800px
background-position: 50% 50%

# 2. RStudio

`R Script (Ctrl + Shift + N)`

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/script3.png)
background-size: 800px
background-position: 50% 50%

# 2. RStudio

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio_console.png)
background-size: 800px
background-position: 50% 50%

# 2. RStudio

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio_console.png)
background-size: 500px
background-position: 50% 98%

# 2. RStudio

## Descrição das janelas

- **Editor/Script**: é onde escrevemos nossos códigos
- **Console**: é onde os códigos são rodados e vemos as saídas
- **Environment**: painel com todos os objetos criados na sessão
- **History**: painel com o histórico dos comandos rodados
- **Files**: painel que mostra os arquivos no diretório de trabalho
- **Plots**: painel onde os gráficos são apresentados
- **Packages**: painel que lista os pacotes
- **Help**: painel onde a documentação das funções é exibida

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio_console_func.png)
background-size: 800px
background-position: 50% 50%

# 2. RStudio

## Funcionamento

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/script3.png)
background-size: 700px
background-position: 50% 85%

# 3. Editor/Roteiro (*code*/*script*)

## Script

- São **rascunhos** dos comandos
- Será neles que os **códigos serão escritos** e depois **enviados ao console do R**
- São **arquivos de texto simples**, que serão salvos no formato .R

---

# 3. Editor/Roteiro (*code*/*script*)

## Esclarecimentos

<br><br>

### Isso é texto, não digite no R!

<br>

```{r}
print("Isso é o resultado que deve aparecer no console")
```

---

# 3. Editor/Roteiro (*code*/*script*)

## Escolham uma linha e digitem no *script*:

<br><br>

```{r, results = "hide"}
"Meu primeiro script no R."
"Meu segundo script no R."
"Meu milésimo script no R."
"Meu n-ésimo script no R."

```

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/script4.png)
background-size: 800px
background-position: 50% 50%

# 3. Editor/Roteiro (*code*/*script*)
`ctrl + S`

---

class: inverse, center, middle

# Calma!!!

---

class: inverse, center, middle

# Onde vocês iam salvar?!

---

class: inverse, center, middle
background-image: url(https://media.giphy.com/media/6gLyE15StAs3C/giphy.gif)
background-size: 700px
background-position: 50% 50%

---

# Vamos padronizar:

## Na raiz do `C:`,  criem essa pasta:

<br><br><br><br>

## `curso_sdm`

---

class: inverse, center, middle

# Calma!!!

---

class: inverse, center, middle

# Que nome vocês iam salvar?!

---

class: inverse, center, middle
background-image: url(https://media.giphy.com/media/6gLyE15StAs3C/giphy.gif)
background-size: 700px
background-position: 50% 50%

---

# Vamos padronizar:

<br><br><br><br><br><br>

### "script_intro_r_curso_sdm.R"

---

# Sigam as instruções

<br><br><br>

## 1. Fechem o RStudio

--

## 2. Abram o RStudio

--

## 3. Abram o script salvo

--

## 4. Apaguem seu conteúdo

---

# Primeiros comandos

### Todos os **comandos** serão digitados no **script**!

--

### Deixem o **cursor** em **qualquer local da linha** e executem essa linha utilizando essa **combinação**: 

### `ctrl + Enter`

--

### Vamos testar:

--

```{r}
1
```
--
```{r}
1 + 2
```

---

class: inverse, center, middle

# Todos entenderam como iremos fazer até o final do curso?

---

class: inverse, center, middle

# Muito bem, podem apagar essas duas linhas

---

# 4. Comentários (*#*)

### Comentários **não são lidos** pelo R

--

### São úteis para **descrever informações** sobre o **script** ou **comandos**s

--

### Cabeçalho

```{r}
### script curso sdm

# seu nome (escreva seu nome mesmo...)
# 21-07-2019
```

--

### Informações sobre os comandos

```{r}
## comentarios
# o r nao le o codigo depois do # (hash)
42 # esses palavras não são rodadas, apenas o 42
```

---

# Calculadora

## Operações matemáticas simples

```{r}
## operacoes aritmeticas (+, -, *, /, ^)
10 + 2 # adicao
```
--
```{r}
10 - 2 # subtracao
```

---

# Colchetes

## Famigerados colchetes na resposta do console....

```{r}
## famigerados colchetes [] na resposta
10 + 2 # adicao
```
--
```{r}
# indicam a posicao do numero em uma sequencia
10:60 # sequencia unitaria de 10 a 60
```

---

class: inverse, middle, center

# Fácil até aqui? Então vamos complicar...

---

# 5. Atribuição (*<-*)

### Possibilita a **manipulação de dados**

--

### Dados são "atribuídos" a **objetos**, que são **palavras** que "guardam" esses dados

--

### Iremos utilizar os símbolos **"<" (menor)**, seguido de **"-" (menos)**, **sem espaço**!!!

<br>

--

## **palavra <- dados**

### `alt + -`

---

# 5. Atribuição (*<-*)

### Vamos atribuir o **valor 10** à palavra **obj_10**

--

```{r}
## atribuicao - simbolo (<-)
obj_10 <- 10 
```

--

### Agora a palavra **obj_10** vale **10**

---

class: inverse, center, middle
background-image: url(https://media.giphy.com/media/6uGhT1O4sxpi8/giphy.gif)
background-size: 700px
background-position: 50% 50%

---

# 5. Atribuição (*<-*)

## Sempre **confira** a atribuição!!!

## Chame o objeto **novamente**!!!

--

```{r}
## atribuicao - simbolo (<-)
obj_10 <- 10 
{{obj_10}}
```

--

### Outro exemplo:
```{r}
## atribuicao - simbolo (<-)
obj_2 <- 2
{{obj_2}}
```

---

class: inverse, middle, center

# Os objetos podem ser visualizados no painel **Environment**

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio_ambiente.png)
background-size: 800px
background-position: 50% 50%

# 5. Atribuição (*<-*)

##  Ambiente (*Environment*)

---

# 5. Atribuição (*<-*)

## CUIDADO!
### O R **sobrescreve** os valores dos objetos com o **mesmo nome**!

--

```{r}
# sobreescrever o valor dos objetos
obj <- 100
obj
```
--
```{r}
obj <- 2
obj
```

---

# Operações com objetos

### Podemos utilizar **objetos** para fazer operações

--

```{r}
# definir dois objetos
va1 <- 10
va1

va2 <- 2
va2
```

---

# Operações com objetos

### Podemos utilizar **objetos** para fazer operações

```{r}
# operacoes com objetos
va1 + va2 # adicao
```
--
```{r}
va1 - va2 # subtracao
```
--

---

# Atribuição de resultados à objetos

### Podemos ainda **atribuir os resultados** das operações a **objetos**

```{r}
# operacoes com objetos e atribuicao
adi <- va1 + va2 # adicao
adi
```
--
```{r}
sub <- va1 - va2 # subtracao
sub
```

---

class: inverse, middle, center

# Dúvidas até aqui?

---

# 6. Funções

## Funções
### **Comandos** que realizam **operações** em **argumentos**

--

## Estrutura de uma função:

### **nome_da_funcao**(**argumento1**, **argumento2**)

```{r}
## funcoes
# comandos que realizam operacoes em argumentos
# estrutura de uma funcao
# 1. nome da funcao - remete ao que ela faz
# 2. parenteses - limitam a funcao
# 3. argumentos - onde a funcao ira atuar 
# 4. virgulas - separam os argumentos
```

---

# 6. Funções

### Os **argumentos** de uma função podem ser de **dois tipos**:

--

1. **Objetos**: a função irá **alterar os valores** atribuídos aos objetos

--

2. **Parâmetros**: valores fixos que informam um **método** ou a realização de uma **operação**. Informamos o **nome desse argumento**, seguido de **"="** e um **texto**, como *TRUE* ou *FALSE*.

--

### Exemplo:
```{r}
sum(1, NA)
sum(1, NA, na.rm = TRUE)
```

---

# 6. Funções

## Argumentos como **valores**

<br><br>

```{r}
# funcoes - argumentos como valores
# soma
sum(10, 2)
```

--

<br>

```{r}
# produto
prod(10, 2)
```

---

# 6. Funções

## Argumentos como **objetos**

<br><br>

```{r}
# funcoes - argumentos como objetos
# soma
sum(va1, va2)
```

--

<br>

```{r}
# produto
prod(va1, va2)
```

---

# 6. Funções

## Nomes dos argumentos

```{r}
# funcoes - nome dos argumentos
# repeticao - todos
rep(x = 1:5, times = 10)
```

<br><br>

--

```{r}
# repeticao - cada
rep(x = 1:5, each = 10)
```

---

# 6. Funções

## Atribuição dos resultados das funções à objetos

```{r}
## atribuicao dos resultados
# repeticao - todos
rep_times <- rep(x = 1:5, times = 10)
rep_times
```
--
```{r}
## atribuicao dos resultados
# repeticao - todos
rep_each <- rep(x = 1:5, each = 10)
rep_each
```

---

class: inverse, middle, center

# Nesse momento, vocês já foram apresentados à 50% do funcionamento do R

---

# Atribuição, função e linha temporal

--

### 1. **Criar** dois objetos
```{r}
# criar dois objetos
foo <- 2
bar <- 3
```

--

### 2. **Somar** esses objetos e **atribuição** ao objeto *soma*
```{r}
# somar e atribuir
soma <- sum(foo, bar)
soma
```

---

# Atribuição, função e linha temporal

## Esse é o processo de programação no R: 

<br><br>

## 1. **Atribuição** de dados a objetos

## 2. **Funções** que **operam e mudam** esses dados

## 3. Nova **atribuição** desses resultados a novos objetos

---

# Atribuição, função e linha temporal

### 1. **Criar** dois objetos
```{r}
# criar dois objetos
foo <- 100
bar <- 300
```

--

### 2. **Multiplicar** esses objetos e **atribuição** ao objeto *mult*
```{r}
# multiplicar e atribuir
mult <- prod(foo, bar)
mult
```

---

class: inverse, middle, center

# E vocês devem estar se perguntando: e como ele sabe o nome das funções?!

---

class: inverse, middle, center
background-image: url(https://media.giphy.com/media/3oKIPmM4hkQIf4p5T2/giphy.gif)
background-size: 800px
background-position: 50% 50%

---

class: clear
background-image: url(http://material.curso-r.com/rbase/figures/ajuda_google.png)
background-size: 800px
background-position: 50% 50%

## Uma **maracutaia** para ajudar!

---

class: inverse, middle, center

# E de onde vêm as funções?!

---

# 6. Funções
## Funções vêm de **duas fontes**:

<br><br><br>

### 1. Pacotes já **instalados por padrão** e que são **carregados** quando abrimos o R

--
<br>

### 2. Pacotes que **instalamos** e **carregamos** com comandos

---

class: inverse, middle, center

# E o que são pacotes afinal?!

---

# 7. Pacotes

## **Coleção de funções** para executar **tarefas específicas**

--

### Verificar **pacotes carregados**
```{r}
# verificar pacotes carregados
search()

```
--
### Verificar **pacotes instalados**
```{r, eval = FALSE}
# verificar pacotes instalados
library()
```

---

# 7. Pacotes

## Instalar pacotes

--

### 1. Instala-se apenas **uma vez**

--

### 2. **Precisa** estar conectado à **internet**

--

### 3. O **nome do pacote precisa** estar entre **aspas**

--

### 4. Função (CRAN): 
`install.packages()`

```{r, eval = FALSE}
# instalar pacotes
install.packages("ggplot2")
```

---

# 7. Pacotes

##  Carregar pacotes

--

### 1. Carrega-se **toda vez** que se abre **uma nova sessão do R**

--

### 2. **Não precisa** estar conectado à **internet**

--

### 3. O **nome do pacote não precisa** estar entre **aspas**

--

### 4. Funções: 
`library()` ou `require()`


```{r}
# carregar pacotes
library(ggplot2)
```

---

# 7. Pacotes

## Atualização de pacotes
### Pacotes são **atualizados com frequência** (bimensal | semestral | anual)
--

### Pacotes **não atualizam sozinhos**

--

### É uma função que **demora** para rodar

<br>

```{r, eval = FALSE}
# atualizacao dos pacotes instalados 
update.packages(ask = FALSE) 
```

---

class: inverse, middle, center

# E onde ficam esses pacotes no meu notebook?

---

# 7. Pacotes

<br><br><br>

## Windows
C:/Users/**nome_do_computador**/Documentos/R/win-library/**numero_da_versao_r**

<br>

## Unix (Linux e MacOS):
/home/**nome_do_computador**/R/**tipo_do_computador**/**numero_da_versao_r**

---

# 7. Pacotes

## Exemplos:

### **vegan** – ecologia de comunidades e amostragens
### **raster** – dados de sig
### **ggplot2** – faz gráficos sensacionais!
### **bblme** – aic
### **dismo** – modelos de distribuição de espécies
### **tidyverse** – data science

---

class: inverse, middle, center

# E quantos pacotes existem?

---


# 7. Pacotes

<br><br><br><br><br>

```{r}
nrow(available.packages(repos = "http://cran.us.r-project.org"))
```

<br><br><br><br><br><br>

https://cran.r-project.org/web/packages/available_packages_by_name.html

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio_ambiente.png)
background-size: 800px
background-position: 50% 50%

# 8. Ambiente (*environment*/*workspace*)

---

# 8. Ambiente (*environment*/*workspace*)
### Listar todos os objetos criados
```{r}
# listar objetos criados
ls()
```
--
```{r}
objects()
```

---

background-image: url(https://media.giphy.com/media/xB1md2I2W16IXil1BO/giphy.gif)
background-size: 400px
background-position: 50% 80%

# 8. Ambiente (*environment*/*workspace*)

## CUIDADO!

### Toda a vez que **fechamos o R**, os objetos criados são **apagados**!

---

# 8. Ambiente (*environment*/*workspace*)

### Remover um objeto

```{r}
ls()
```
--
```{r}
rm(bar)
```
--
```{r}
ls()
```

---

# 8. Ambiente (*environment*/*workspace*)

### Remover todos os objetos

```{r}
ls()
```
--
```{r}
rm(list = ls())
```
--
```{r}
ls()
```

---

# 9. Diretório

## Endereço da pasta onde o R irá **importar e exportar** os dados

**Atalho**: `ctrl + shift + H`

--

### **Windows: inverter as barras ("\" por "/")!**

```{r, eval = FALSE}
## diretorio de trabalho
# pasta onde o r ira importar e exportar os arquivos

# definir o diretorio de trabalho
setwd("/home/mude/data/gitlab/course-sdm/11_aula_r")
```
--
```{r, eval = FALSE}
# verificar o diretorio
getwd()
```
--
```{r, eval = FALSE}
# verificar os arquivos
dir()
```

---

# 9. Diretório

## Criar e apagar pastas pastas

```{r}
# criar diretorio
dir.create("minha_pasta")
```
--
```{r}
# mudar diretorio
setwd("minha_pasta")
```
--
```{r}
# criar diretorio
dir.create("outra_pasta")
```
--
```{r}
# apagar diretorio
unlink("outra_pasta", recursive = TRUE)
```
---

# 9. Diretório

## Voltar um diretório

```{r}
# verificar diretorio
getwd()
```
--
```{r}
# voltar uma pasta
setwd("..")
```
--
```{r}
# verificar diretorio
getwd()
```
--
```{r}
# apagar diretorio
unlink("minha_pasta", recursive = TRUE)
```

---

class: inverse, middle, center

# Dúvidas?

---

class: clear, middle

## Maurício Vancine

<br>

Contatos:

|                                                                                                            |                                   |
| :--------------------------------------------------------------------------------------------------------- | :-------------------------------- |
| <a href="mailto:mauricio.vancine@gmail.com">.RUred[<i class="fa fa-envelope fa-fw"></i>]               | mauricio.vancine@gmail.com       |
| <a href="mauriciovancine.github.io">.RUred[<i class="fa fa-link fa-fw"></i>] | mauriciovancine.github.io |
| <a href="http://twitter.com/mauriciovancine">.RUred[<i class="fa fa-twitter fa-fw"></i>]                          | @mauriciovancine                         |
| <a href="http://gitlab.com/mauriciovancine">.RUred[<i class="fa fa-gitlab fa-fw"></i>]                          | @mauriciovancine                       |
| <a href="http://github.com/mauriciovancine">.RUred[<i class="fa fa-github fa-fw"></i>]                          | @mauriciovancine                       |

Slides criados via pacote [xaringan](https://github.com/yihui/xaringan) e tema [Metropolis](https://github.com/pat-s/xaringan-metropolis).